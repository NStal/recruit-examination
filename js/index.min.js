window.onload=function(){document.getElementById("todoText").onkeyup=function(t){if(13!==(t=t||event).keyCode||/^\s*$/g.test(this.value))return!1;var a=(new Date).getTime();e.add({type:"todo",value:this.value,timestamp:a}),e.saveData({type:"todo",value:this.value,timestamp:a}),e.todoNum++,e.numChange(),this.value=""},document.onclick=function(t){var a=(t=t||event).target||t.srcElement;if("input"===a.nodeName.toLowerCase()&&"checkbox"===a.type){var o=a.parentNode.getElementsByTagName("p")[0].innerHTML,n=parseInt(a.getAttribute("data-timestamp"));a.checked||"checked"===a.checked?(e.add({type:"done",value:o,timestamp:n}),e.saveData({type:"done",value:o,timestamp:n}),e.delete("todo",a.parentNode),e.deleteData({type:"todo",timestamp:n}),e.todoNum--,e.doneNum++,e.numChange()):(e.add({type:"todo",value:o,timestamp:n}),e.saveData({type:"todo",value:o,timestamp:n}),e.delete("done",a.parentNode),e.deleteData({type:"done",timestamp:n}),e.doneNum--,e.todoNum++,e.numChange())}if("a"===a.nodeName.toLowerCase()&&a.classList.contains("btn-delete")){var o=a.parentNode.getElementsByTagName("p")[0].innerHTML,n=parseInt(a.getAttribute("data-timestamp"));a.parentNode.parentNode.parentNode.classList.contains("todoListBox")?(e.deleteData({type:"todo",timestamp:n}),e.delete("todo",a.parentNode),e.todoNum--,e.numChange()):(e.deleteData({type:"done",timestamp:n}),e.delete("done",a.parentNode),e.doneNum--,e.numChange())}};var e=new Todo;e.init()};