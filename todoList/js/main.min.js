!function(){var e=function(e){if(this.default_ops={todoNode:document.getElementById("todoList"),doneNode:document.getElementById("doneList")},e)for(var t in e)e.hasOwnProperty(t)&&(this.default_ops[t]=e[t]);this.todoNum=0,this.doneNum=0};e.prototype={init:function(){var e=null;e=JSON.parse(localStorage.getItem("todo"))?JSON.parse(localStorage.getItem("todo")):[];for(var t=0;t<e.length;t++)e[t].done?(this.add("done",e[t].title),this.doneNum++,this.numChange()):(this.add("todo",e[t].title),this.todoNum++,this.numChange())},add:function(e,t){var o=document.createElement("li"),n=document.createElement("input"),d=document.createElement("p"),a=document.createElement("a");o.className="item",n.type="checkbox",a.href="javascript:;",a.className="btn",a.classList.add("btn-delete","fr"),a.innerHTML="X",d.innerHTML=t,o.appendChild(n),o.appendChild(d),o.appendChild(a),"todo"===e?this.default_ops.todoNode.appendChild(o):"done"===e&&(n.checked="checked",this.default_ops.doneNode.appendChild(o))},delete:function(e,t){"todo"===e?this.default_ops.todoNode.removeChild(t):"done"===e&&this.default_ops.doneNode.removeChild(t)},numChange:function(){for(var e=document.getElementsByClassName("num"),t=0;t<e.length;t++)e[t].classList.contains("todoNum")?e[t].innerHTML=this.todoNum:e[t].classList.contains("doneNum")?e[t].innerHTML=this.doneNum:console.log("找不到元素")},saveData:function(e,t){var o=null;o=JSON.parse(localStorage.getItem("todo"))?JSON.parse(localStorage.getItem("todo")):[];var n={};"todo"===e?(n.title=t,n.done=!1,o.push(n)):"done"===e?(n.title=t,n.done=!0,o.push(n)):console.log("error:储存名称错误!"),localStorage.setItem("todo",JSON.stringify(o))},deleteData:function(e,t){var o=null;o=JSON.parse(localStorage.getItem("todo"))?JSON.parse(localStorage.getItem("todo")):[];if("todo"===e)for(n=0;n<o.length;n++)o[n].title===t&&!1===o[n].done&&o.splice(n,1);else if("done"===e)for(var n=0;n<o.length;n++)o[n].title===t&&o[n].done&&o.splice(n,1);else console.log("没有数据");localStorage.setItem("todo",JSON.stringify(o))}},window.Todo=e}();